<th:block th:fragment="copy">
  <ul class="list-unstyled" th:if="${produto}">
    <li class="media" th:each="img : ${produto.thumbnails}">
      <img th:src="@{/imagem/download/__${img.id}))}" class="mr-3" th:alt="${produto.nome}">
    </li>
  </ul>
  <ul class="nav nav-pills flex-column">
    <li class="nav-item" th:if="${categoria == null and produto == null and pagina == null}" th:each="c : ${categorias}">
      <a class="nav-link" th:href="@{/c/__${c.nome}__}" th:text="${c.nome}"></a>
    </li>

    <th:block th:if="${pagina}" th:each="p : ${paginas}">
      <li class="nav-item" th:if="${#string.equals(p.parent, pagina)}">
        <a th:href="@{/page/__${p.titulo}__}" class="nav-link" th:text="${p.titulo}"></a>
      </li>
    </th:block>

    <li class="nav-item" th:if="${produto}" th:each="c : ${categorias}">
      <a th:with="categoria = ${produto.categoria}" th:href="@{/c/__${c.nome}__}" th:class="${#strings.equals(categoria.nome, c.nome)}? 'nav-link active' : 'nav-link'" th:text="${c.nome}"></a>
    </li>

    <li class="nav-item" th:if="${categoria}" th:each="c : ${categorias}">
      <a th:href="@{/c/__${c.nome}__}" th:class="${#strings.equals(categoria.nome, c.nome)}? 'nav-link active' : 'nav-link'" th:text="${c.nome}"></a>
    </li>
  </ul>
</th:block>
