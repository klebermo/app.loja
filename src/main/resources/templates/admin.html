<html>
<head>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote.css" rel="stylesheet">
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/black-tie/jquery-ui.css" type="text/css">
  <link th:href="@{/css/dashboard.css}" rel="stylesheet">
  <title>Admin</title>
</head>
<body>
  <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" th:href="@{/}">
      <img th:src="@{/img/bootstrap-solid.svg}" width="30" height="30" class="d-inline-block align-top" alt="">
      <span th:text="${geral.titulo}"></span>
    </a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mr-auto">
      </ul>

      <ul class="nav navbar-nav justify-content-end">
        <li class="nav-item">
          <a class="nav-link" href="#" th:text="${usuario}"></a>
        </li>

        <li class="nav-item">
          <a class="nav-link" th:href="@{/logout}">Sign out</a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container-fluid">
    <div class="row">
      <nav class="col-md-2 d-none d-md-block bg-light sidebar">
        <div class="sidebar-sticky">
          <ul class="nav flex-column">
            <li class="nav-item">
              <a th:class="${#strings.isEmpty(target)}? 'nav-link active': 'nav-link'" th:href="@{/admin}">
                <span class="glyphicon glyphicon-home" aria-hidden="true"></span>
                Dashboard <span th:unless="${target}" class="sr-only">(current)</span>
              </a>
            </li>

            <li class="nav-item">
              <a th:class="${#strings.equals(target, 'categoria')}? 'nav-link active': 'nav-link'" th:href="@{/categoria/}">
                <span class="glyphicon glyphicon-tags" aria-hidden="true"></span>
                Categoria <span th:if="${#strings.equals(target, 'categoria')}" class="sr-only">(current)</span>
              </a>
            </li>

            <li class="nav-item">
              <a th:class="${#strings.equals(target, 'produto')}? 'nav-link active': 'nav-link'" th:href="@{/produto/}">
                <span class="glyphicon glyphicon-tags" aria-hidden="true"></span>
                Produto <span th:if="${#strings.equals(target, 'produto')}" class="sr-only">(current)</span>
              </a>
            </li>

            <li class="nav-item">
              <a th:class="${#strings.equals(target, 'pagina')}? 'nav-link active': 'nav-link'" th:href="@{/pagina/}">
                <span class="glyphicon glyphicon-tags" aria-hidden="true"></span>
                P&aacute;gina <span th:if="${#strings.equals(target, 'pagina')}" class="sr-only">(current)</span>
              </a>
            </li>
          </ul>

          <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
            <span>Configura&ccedil;&otilde;es</span>
            <a class="d-flex align-items-center text-muted" href="#">
              <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>
            </a>
          </h6>

          <ul class="nav flex-column mb-2">
            <li class="nav-item">
              <a th:class="${#strings.equals(target, 'geral')}? 'nav-link active': 'nav-link'" th:href="@{/geral/}">
                <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
                Geral <span th:if="${#strings.equals(target, 'pagina')}" class="sr-only">(current)</span>
              </a>
            </li>

            <li class="nav-item">
              <a th:class="${#strings.equals(target, 'paypal')}? 'nav-link active': 'nav-link'" th:href="@{/paypal/}">
                <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
                Paypal <span th:if="${#strings.equals(target, 'paypal')}" class="sr-only">(current)</span>
              </a>
            </li>

            <li class="nav-item">
              <a th:class="${#strings.equals(target, 'mercadopago')}? 'nav-link active': 'nav-link'" th:href="@{/mercadopago/}">
                <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
                Mercado Pago <span th:if="${#strings.equals(target, 'mercadopago')}" class="sr-only">(current)</span>
              </a>
            </li>

            <li class="nav-item">
              <a th:class="${#strings.equals(target, 'pagseguro')}? 'nav-link active': 'nav-link'" th:href="@{/pagseguro/}">
                <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
                PagSeguro <span th:if="${#strings.equals(target, 'pagseguro')}" class="sr-only">(current)</span>
              </a>
            </li>
          </ul>

          <ul class="nav flex-column">
            <li class="nav-item">
              <a th:class="${#strings.equals(target, 'usuario')}? 'nav-link active': 'nav-link'" th:href="@{/usuario/}">
                <span class="glyphicon glyphicon-tags" aria-hidden="true"></span>
                Usu&aacute;rios <span th:if="${#strings.equals(target, 'usuario')}" class="sr-only">(current)</span>
              </a>
            </li>
          </ul>
        </div>
      </nav>

      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4" th:if="${admin}">
      </main>

      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4" th:if="${#strings.equals(target, 'usuario')}">
        <h1>Usu&aacute;rio</h1>
        <hr/>

        <div id="new" title="Novo usu&aacute;rio"></div>
        <div id="edit" title="Editar usu&aacute;rio"></div>
        <div id="remove" title="Remover usu&aacute;rio"></div>

        <div class="btn-group" role="group" aria-label="toolbar">
          <button type="button" class="btn btn-secondary" id="new_button">
            <i class="fas fa-file"></i>
          </button>
        </div>

        <table class="table table-striped">
          <thead class="thead-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">username</th>
              <th scope="col">first name</th>
              <th scope="col">last name</th>
              <th scope="col">e-mail</th>
              <th scope="col">enabled</th>
              <th scope="col">locked</th>
              <th scope="col">
                <div class="btn-group" role="group" aria-label="actionbar" style="display: none;">
                  <button type="button" class="btn btn-secondary" id="edit_button">
                    <i class="fas fa-edit"></i>
                  </button>
                  <button type="button" class="btn btn-secondary" id="remove_button">
                    <i class="fas fa-trash"></i>
                  </button>
                </div>
              </th>
            </tr>
          </thead>

          <tbody></tbody>
        </table>
      </main>

      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4" th:if="${#strings.equals(target, 'categoria')}">
        <h1>Categoria</h1>
        <hr/>

        <div id="new" title="Nova categoria"></div>
        <div id="edit" title="Editar categoria"></div>
        <div id="remove" title="Remover categoria"></div>

        <div class="btn-group" role="group" aria-label="toolbar">
          <button type="button" class="btn btn-secondary" id="new_button">
            <i class="fas fa-file"></i>
          </button>
        </div>

        <table class="table table-striped">
          <thead class="thead-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">nome</th>
              <th scope="col">resumo</th>
              <th scope="col">
                <div class="btn-group" role="group" aria-label="actionbar" style="display: none;">
                  <button type="button" class="btn btn-secondary" id="edit_button">
                    <i class="fas fa-edit"></i>
                  </button>
                  <button type="button" class="btn btn-secondary" id="remove_button">
                    <i class="fas fa-trash"></i>
                  </button>
                </div>
              </th>
            </tr>
          </thead>

          <tbody></tbody>
        </table>
      </main>

      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4" th:if="${#strings.equals(target, 'produto')}">
        <h1>Produto</h1>
        <hr/>

        <div id="new" title="Novo produto"></div>
        <div id="edit" title="Editar produto"></div>
        <div id="remove" title="Remover produto"></div>

        <div class="btn-group" role="group" aria-label="toolbar">
          <button type="button" class="btn btn-secondary" id="new_button">
            <i class="fas fa-file"></i>
          </button>
        </div>

        <table class="table table-striped">
          <thead class="thead-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">nome</th>
              <th scope="col">resumo</th>
              <th scope="col">pre&ccedil;o</th>
              <th scope="col">categoria</th>
              <th scope="col">
                <div class="btn-group" role="group" aria-label="actionbar" style="display: none;">
                  <button type="button" class="btn btn-secondary" id="edit_button">
                    <i class="fas fa-edit"></i>
                  </button>
                  <button type="button" class="btn btn-secondary" id="remove_button">
                    <i class="fas fa-trash"></i>
                  </button>
                </div>
              </th>
            </tr>
          </thead>

          <tbody></tbody>
        </table>
      </main>

      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4" th:if="${#strings.equals(target, 'pagina')}">
        <h1>P&aacute;gina</h1>
        <br/>

        <div id="new" title="Nova p&aacute;gina"></div>
        <div id="edit" title="Editar p&aacute;gina"></div>
        <div id="remove" title="Remover p&aacute;gina"></div>

        <div class="btn-group" role="group" aria-label="toolbar">
          <button type="button" class="btn btn-secondary" id="new_button">
            <i class="fas fa-file"></i>
          </button>
        </div>

        <table class="table table-striped">
          <thead class="thead-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">titulo</th>
              <th scope="col">
                <div class="btn-group" role="group" aria-label="actionbar" style="display: none;">
                  <button type="button" class="btn btn-secondary" id="edit_button">
                    <i class="fas fa-edit"></i>
                  </button>
                  <button type="button" class="btn btn-secondary" id="remove_button">
                    <i class="fas fa-trash"></i>
                  </button>
                </div>
              </th>
            </tr>
          </thead>

          <tbody></tbody>
        </table>
      </main>

      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4" th:if="${#strings.equals(target, 'geral')}">
        <h1>Geral</h1>
        <hr/>

        <form role="form" class="form" id="form" method="post" th:action="@{/geral/set}">
          <div class="form-group">
            <label for="titulo">Titulo</label>
            <input type="text" class="form-control" id="titulo" name="titulo" placeholder="Titulo">
          </div>

          <div class="form-group">
            <label for="desenvolvedor">Desenvolvedor</label>
            <input type="text" class="form-control" id="desenvolvedor" name="desenvolvedor" placeholder="Desenvolvedor">
          </div>

          <div class="form-group">
            <label for="exampleInputEmail1">Email address</label>
            <input type="email" class="form-control" id="exampleInputEmail1" name="email" placeholder="E-mail">
          </div>

          <button type="submit" class="btn btn-primary">Submit</button>

          <div class="alert alert-success" role="alert" style="display: none;">
            Configura&ccedil;&otilde;es atualizadas com sucesso!
          </div>

          <div class="alert alert-danger" role="alert" style="display: none;">
            N&atilde;o foi poss&iacute;vel salvar as configura&ccedil;&otilde;es.
          </div>
        </form>
      </main>

      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4" th:if="${#strings.equals(target, 'paypal')}">
        <h1>Paypal</h1>
        <hr/>

        <form role="form" class="form" id="form" method="post" th:action="@{/paypal/set}">
          <div class="form-group">
            <label for="clientId">ClientID</label>
            <input type="text" class="form-control" id="clientId" name="clientId" placeholder="ClientID">
          </div>

          <div class="form-group">
            <label for="clientSecret">ClientSecret</label>
            <input type="text" class="form-control" id="clientSecret" name="clientSecret" placeholder="ClientSecret">
          </div>

          <button type="submit" class="btn btn-primary">Submit</button>

          <div class="alert alert-success" role="alert" style="display: none;">
            Configura&ccedil;&otilde;es atualizadas com sucesso!
          </div>

          <div class="alert alert-danger" role="alert" style="display: none;">
            N&atilde;o foi poss&iacute;vel salvar as configura&ccedil;&otilde;es.
          </div>
        </form>
      </main>

      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4" th:if="${#strings.equals(target, 'pagseguro')}">
        <h1>PagSeguro</h1>
        <hr/>

        <form role="form" class="form" id="form" method="post" th:action="@{/pagseguro/set}">
          <div class="form-group">
            <label for="clientId">ClientID</label>
            <input type="text" class="form-control" id="clientId" name="clientId" placeholder="ClientID">
          </div>

          <div class="form-group">
            <label for="clientSecret">ClientSecret</label>
            <input type="text" class="form-control" id="clientSecret" name="clientSecret" placeholder="ClientSecret">
          </div>

          <button type="submit" class="btn btn-primary">Submit</button>

          <div class="alert alert-success" role="alert" style="display: none;">
            Configura&ccedil;&otilde;es atualizadas com sucesso!
          </div>

          <div class="alert alert-danger" role="alert" style="display: none;">
            N&atilde;o foi poss&iacute;vel salvar as configura&ccedil;&otilde;es.
          </div>
        </form>
      </main>

      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4" th:if="${#strings.equals(target, 'mercadopago')}">
        <h1>MercadoPago</h1>
        <hr/>

        <form role="form" class="form" id="form" method="post" th:action="@{/mercadopago/set}">
          <div class="form-group">
            <label for="clientId">ClientID</label>
            <input type="text" class="form-control" id="clientId" name="clientId" placeholder="ClientID">
          </div>

          <div class="form-group">
            <label for="clientSecret">ClientSecret</label>
            <input type="text" class="form-control" id="clientSecret" name="clientSecret" placeholder="ClientSecret">
          </div>

          <button type="submit" class="btn btn-primary">Submit</button>

          <div class="alert alert-success" role="alert" style="display: none;">
            Configura&ccedil;&otilde;es atualizadas com sucesso!
          </div>

          <div class="alert alert-danger" role="alert" style="display: none;">
            N&atilde;o foi poss&iacute;vel salvar as configura&ccedil;&otilde;es.
          </div>
        </form>
      </main>
    </div>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script src="https://kit.fontawesome.com/a8a341d3ab.js"></script>
  <script th:src="@{/js/dashboard.js}"></script>

  <script th:inline="javascript">
  /*<![CDATA[*/
  $(document).ready(function(){
    $('form.form').on("submit", function(e){
      e.preventDefault;
      var path = $(this).attr( "action" );
      $.ajax({type: 'post', url: path}).done(function(data){
        if(data == "")
          $( ".alert-success" ).show();
        else
          $( ".alert-danger" ).show();
      });
    });

    $( "#new" ).dialog({ autoOpen: false, minHeight: 640, maxHeight: 640, minWidth: 480, maxWidth: 480, resizable: false });

    $( "#new_button" ).click(function() {
      $( "#new" ).dialog( "open" );

      $.ajax({
        url: /*[[@{/__${target}__/insert}]]*/,
      }).done(function(data) {
        $( "#new" ).append( data );
      });
    });

    $( "#edit" ).dialog({ autoOpen: false, minHeight: 640, maxHeight: 640, minWidth: 480, maxWidth: 480, resizable: false });

    $( "#edit_button" ).click(function() {
      var id = $(this).data("id");
      var path = /*[[@{/__${target}__/update}]]*/;
      path = path + "?id=" + id;

      $( "#edit" ).dialog( "open" );

      $.ajax({
        url: path,
      }).done(function(data) {
        $( "#edit" ).append( data );
      });
    });

    $( "#remove" ).dialog({ autoOpen: false, minHeight: 140, maxHeight: 140, minWidth: 600, maxWidth: 600, resizable: false });

    $( "#remove_button" ).click(function() {
      var id = $(this).data("id");
      var path = /*[[@{/__${target}__/delete}]]*/;
      path = path + "?id=" + id;

      $( "#remove" ).dialog( "open" );

      $.ajax({
        url: path,
      }).done(function(data) {
        $( "#remove" ).append( data );
      });
    });
  });
  /*]]>*/
  </script>
</body>
