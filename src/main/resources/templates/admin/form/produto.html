<th:block th:fragment="copy">
  <input type="hidden" name="forum" th:value="${command.forum}"/>

  <div class="row">
    <div class="col-25">
      <label for="icone">Icone</label>
    </div>
    <div class="col-75">
      <button type="button" id="btn_upload" onclick="select_single_image();" th:style="${command.icone}? 'display: none;' : 'display: block;'">
        <img th:if="${command.icone}" class="thumbnail" th:id="${'single_image_' + command.id}" th:src="@{/imagem/download/__${command.icone.id}__}" th:alt="${command.nome}">
        <img th:unless="${command.icone}" class="thumbnail" id="empty_image" th:src="@{/images/icon_add_imagem.png}" alt="icone do produto"/>
        <input type="file" accept="png" class="image-uploader" id="icone" style="display: none;" th:attr="data-target=${'icone'}, data-url=@{/imagem/upload}, data-path=@{/imagem/download}" onchange="image_upload(this);"/>
      </button>
    </div>
  </div>

  <div class="row">
    <div class="col-25">
      <label for="categoria">Categoria</label>
    </div>
    <div class="col-75">
      <select class="form-control" id="categoria" th:field="*{categoria}">
        <option th:each="categoria : ${categorias}" th:value="${categoria.id}" th:selected="${#strings.equals(categoria, command.categoria)}">
          <span th:each="t : ${categoria.nome}" th:if="${#strings.equals(#strings.substringBefore(t.idioma,','), #strings.replace(#locale,'_','-'))}" th:href="@{/c/__${t.conteudo}__}" th:text="${t.conteudo}"></span>
        </option>
      </select>
    </div>
  </div>

  <div class="row">
    <div class="col-25">
      <label for="preco">Pre&ccedil;o</label>
    </div>
    <div class="col-75">
      <input type="text" th:field="*{preco}" class="form-control" id="preco" placeholder="Pre&ccedil;o">
    </div>
  </div>

  <!-- Tab links -->
  <div class="tab_idioma">
    <button type="button" th:each="idioma,stat : ${idiomas.listaDeIdiomas}" th:class="${stat.index == 0}? 'tabidioma active' : 'tabidioma'" th:id="${#strings.substringBefore(idioma,',') + '-tab'}" th:attr="data-id=${#strings.substringBefore(idioma,',')}" onclick="openIdiomaTab(this)" th:text="${#strings.substringBefore(idioma,',')}"></button>
  </div>

  <!-- Tab content -->
  <div th:each="idioma,stat : ${idiomas.listaDeIdiomas}" th:id="${#strings.substringBefore(idioma,',')}" class="tabcontent_idioma" th:style="${stat.index == 0}? 'display: block;': 'display: none;'">
    <div class="row">
      <div class="col-25">
        <label for="nome">Nome</label>
      </div>
      <div class="col-75">
        <input type="hidden" th:name="${'nomeAsList['+stat.index+'].idioma'}" th:value="${idioma}"/>
        <input type="text" th:name="${'nomeAsList['+stat.index+'].conteudo'}" id="nome" placeholder="Nome">
      </div>
    </div>

    <div class="row">
      <div class="col-25">
        <label for="resumo">Resumo</label>
      </div>
      <div class="col-75">
        <input type="hidden" th:name="${'resumoAsList['+stat.index+'].idioma'}" th:value="${idioma}"/>
        <input type="text" th:name="${'resumoAsList['+stat.index+'].conteudo'}" id="resumo" placeholder="Resumo">
      </div>
    </div>

    <div class="row">
      <div class="col-75">
        <input type="hidden" th:name="${'descricaoAsList['+stat.index+'].idioma'}" th:value="${idioma}"/>
        <textarea th:name="${'descricaoAsList['+stat.index+'].conteudo'}" id="descricao"></textarea>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-25">
      <label for="thumbnails">Thumbnails</label>
    </div>
    <div class="col-75">
      <table>
        <tr>
          <td>
            <button type="button" onclick="add_single_imagem();" th:style="${command.icone}? 'display: none;' : 'display: block;'">
              <img class="thumbnail" th:src="@{/images/icon_add_imagem.png}" alt="adicionar icone"/>
              <input type="file" accept="image/jpeg" class="image-uploader" id="thumbnails" style="display: none;" th:attr="data-target=${'thumbnails'}, data-url=@{/imagem/upload}, data-path=@{/imagem/download}" onchange="image_upload(this);"/>
            </button>
          </td>
          <td>
            <div class="gallery" id="gallery">
              <th:block th:each="img,stat : ${command.thumbnails}">
                <input type="hidden" th:field="*{thumbnails}" th:value="${img.id}"/>
                <img class="thumbnail" th:id="${'image_'+img.id}" th:src="@{/imagem/download/__${img.id}__}" th:alt="${command.nome}">
              </th:block>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </div>

  <div class="row">
    <div class="col-25">
      <label for="versaoGratuita">Vers&atilde;o Gratuita</label>
    </div>
    <div class="col-75">
      <table>
        <tr>
          <td>
            <button type="button" id="btn_upload" onclick="select_single_file();">
              <input th:each="arq : ${command.versaoGratuita}" th:if="${string.equals(arq.type, 'exe')}" type="hidden" th:field="*{versaoGratuita}" th:value="${arq.id}"/>
              <img th:if="${command.icone}" class="thumbnail" th:id="${'single_file_' + command.id}" th:src="@{/images/icon_windows.png}"/>
              <img th:unless="${command.icone}" class="thumbnail" id="empty_file" th:src="@{/images/icon_windows_off.png}"/>
              <input type="file" accept="exe" class="file-uploader" id="versaoGratuita" style="display: none;" th:attr="data-target=${'versaoGratuita'}, data-url=@{/imagem/upload}, data-path=@{/imagem/download}" onchange="file_upload(this);"/>
            </button>
          </td>

          <td>
            <button type="button" id="btn_upload" onclick="select_single_file();">
              <input th:each="arq : ${command.versaoGratuita}" th:if="${string.equals(arq.type, 'dmg')}" type="hidden" th:field="*{versaoGratuita}" th:value="${arq.id}"/>
              <img th:if="${command.icone}" class="thumbnail" th:id="${'single_file_' + command.id}" th:src="@{/images/icon_macosx.png}"/>
              <img th:unless="${command.icone}" class="thumbnail" id="empty_file" th:src="@{/images/icon_macosx_off.png}"/>
              <input type="file" accept="dmg" class="file-uploader" id="versaoGratuita" style="display: none;" th:attr="data-target=${'versaoGratuita'}, data-url=@{/imagem/upload}, data-path=@{/imagem/download}" onchange="file_upload(this);"/>
            </button>
          </td>

          <td>
            <button type="button" id="btn_upload" onclick="select_single_file();">
              <input th:each="arq : ${command.versaoGratuita}" th:if="${string.equals(arq.type, 'rpm')}" type="hidden" th:field="*{versaoGratuita}" th:value="${arq.id}"/>
              <img th:if="${command.icone}" class="thumbnail" th:id="${'single_file_' + command.id}" th:src="@{/images/icon_linux_rpm.png}"/>
              <img th:unless="${command.icone}" class="thumbnail" id="empty_file" th:src="@{/images/icon_linux_rpm_off.png}"/>
              <input type="file" accept="rpm" class="file-uploader" id="versaoGratuita" style="display: none;" th:attr="data-target=${'versaoGratuita'}, data-url=@{/imagem/upload}, data-path=@{/imagem/download}" onchange="file_upload(this);"/>
            </button>
          </td>

          <td>
            <button type="button" id="btn_upload" onclick="select_single_file();">
              <input th:each="arq : ${command.versaoGratuita}" th:if="${string.equals(arq.type, 'deb')}" type="hidden" th:field="*{versaoGratuita}" th:value="${arq.id}"/>
              <img th:if="${command.icone}" class="thumbnail" th:id="${'single_file_' + command.id}" th:src="@{/images/icon_linux_deb.png}"/>
              <img th:unless="${command.icone}" class="thumbnail" id="empty_file" th:src="@{/images/icon_linux_deb_off.png}"/>
              <input type="file" accept="deb" class="file-uploader" id="versaoGratuita" style="display: none;" th:attr="data-target=${'versaoGratuita'}, data-url=@{/imagem/upload}, data-path=@{/imagem/download}" onchange="file_upload(this);"/>
            </button>
          </td>
        </tr>
      </table>
    </div>
  </div>

  <div class="row">
    <div class="col-25">
      <label for="versaoGratuita">Vers&atilde;o Paga</label>
    </div>
    <div class="col-75">
      <table>
        <tr>
          <td>
            <button type="button" id="btn_upload" onclick="select_single_file();">
              <input th:each="arq : ${command.versaoPaga}" th:if="${string.equals(arq.type, 'exe')}" type="hidden" th:field="*{versaoPaga}" th:value="${arq.id}"/>
              <img th:if="${command.icone}" class="thumbnail" th:id="${'single_file_' + command.id}" th:src="@{/images/icon_windows.png}"/>
              <img th:unless="${command.icone}" class="thumbnail" id="empty_file" th:src="@{/images/icon_windows_off.png}"/>
              <input type="file" accept="exe" class="file-uploader" id="versaoPaga" style="display: none;" th:attr="data-target=${'versaoPaga'}, data-url=@{/imagem/upload}, data-path=@{/imagem/download}" onchange="file_upload(this);"/>
            </button>
          </td>

          <td>
            <button type="button" id="btn_upload" onclick="select_single_file();">
              <input th:each="arq : ${command.versaoPaga}" th:if="${string.equals(arq.type, 'dmg')}" type="hidden" th:field="*{versaoPaga}" th:value="${arq.id}"/>
              <img th:if="${command.icone}" class="thumbnail" th:id="${'single_file_' + command.id}" th:src="@{/images/icon_macosx.png}"/>
              <img th:unless="${command.icone}" class="thumbnail" id="empty_file" th:src="@{/images/icon_macosx_off.png}"/>
              <input type="file" accept="dmg" class="file-uploader" id="versaoPaga" style="display: none;" th:attr="data-target=${'versaoPaga'}, data-url=@{/imagem/upload}, data-path=@{/imagem/download}" onchange="file_upload(this);"/>
            </button>
          </td>

          <td>
            <button type="button" id="btn_upload" onclick="select_single_file();">
              <input th:each="arq : ${command.versaoPaga}" th:if="${string.equals(arq.type, 'rpm')}" type="hidden" th:field="*{versaoPaga}" th:value="${arq.id}"/>
              <img th:if="${command.icone}" class="thumbnail" th:id="${'single_file_' + command.id}" th:src="@{/images/icon_linux_rpm.png}"/>
              <img th:unless="${command.icone}" class="thumbnail" id="empty_file" th:src="@{/images/icon_linux_rpm_off.png}"/>
              <input type="file" accept="rpm" class="file-uploader" id="versaoPaga" style="display: none;" th:attr="data-target=${'versaoPaga'}, data-url=@{/imagem/upload}, data-path=@{/imagem/download}" onchange="file_upload(this);"/>
            </button>
          </td>

          <td>
            <button type="button" id="btn_upload" onclick="select_single_file();">
              <input th:each="arq : ${command.versaoPaga}" th:if="${string.equals(arq.type, 'deb')}" type="hidden" th:field="*{versaoPaga}" th:value="${arq.id}"/>
              <img th:if="${command.icone}" class="thumbnail" th:id="${'single_file_' + command.id}" th:src="@{/images/icon_linux_deb.png}"/>
              <img th:unless="${command.icone}" class="thumbnail" id="empty_file" th:src="@{/images/icon_linux_deb_off.png}"/>
              <input type="file" accept="deb" class="file-uploader" id="versaoPaga" style="display: none;" th:attr="data-target=${'versaoPaga'}, data-url=@{/imagem/upload}, data-path=@{/imagem/download}" onchange="file_upload(this);"/>
            </button>
          </td>
        </tr>
      </table>
    </div>
  </div>
</th:block>
