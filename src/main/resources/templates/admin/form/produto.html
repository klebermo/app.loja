<th:block th:fragment="copy">
<input type="hidden" name="id" th:value="${command.id}"/>

<input type="hidden" name="forum" th:value="${command.forum}"/>

<div class="container">
  <div class="row">
    <div class="col-sm">
      <div class="form-group">
        <label for="icone">Icone</label>
        <input th:if="${command.icone}" type="hidden" name="icone" th:value="${command.icone.id}"/>
        <input type="file" accept=".png" class="form-control image-uploader" id="icone" th:attr="data-url=@{/imagem/upload}">
      </div>
    </div>
    <div class="col-sm">
      <div class="form-group">
        <label for="categoria">Categoria</label>
        <select class="form-control" id="categoria" name="categoria.id">
          <option th:each="categoria : ${categorias}" th:value="${categoria.id}" th:selected="${#strings.equals(categoria, command.categoria)}" th:text="${categoria.nome}"/>
        </select>
      </div>
    </div>
    <div class="col-sm">
      <div class="form-group">
        <label for="preco">Pre&ccedil;o</label>
        <input type="text" name="preco" th:value="${command.preco}" class="form-control" id="preco" placeholder="Pre&ccedil;o">
      </div>
    </div>
  </div>
</div>

<ul class="nav nav-tabs">
  <li class="nav-item" th:each="idioma,stat : ${idiomas.listaDeIdiomas}">
    <a th:class="${stat.index == 0}? 'nav-link show active' : 'nav-link'" th:id="${idioma}" data-toggle="tab" th:href="${'#' + #strings.substringBefore(idioma,',')}" role="tab" th:attr="aria-controls=${#strings.substringBefore(idioma,',')},aria-selected=${stat.index == 0? 'true' : 'false'}" th:text="${idioma}"></a>
  </li>
</ul>

<div class="tab-content">
  <div th:each="idioma,stat : ${idiomas.listaDeIdiomas}" th:class="${stat.index == 0}? 'tab-pane show active' : 'tab-pane fade'" th:id="${#strings.substringBefore(idioma,',')}" role="tabpanel" th:attr="aria-labelledby=${#strings.substringBefore(idioma,',') + '_tab'}">
    <div class="form-group">
      <label for="nome">Nome</label>
      <input type="hidden" th:name="${'nome[' + stat.index + '].idioma'}" th:value="${idioma}"/>
      <th:block th:if="${command.nome}">
        <input type="text" th:name="${'nome[' + stat.index + '].conteudo'}" th:each="value : ${command.nome}" th:if="${#strings.equals(value.idioma, idioma)}" th:value="${value.conteudo}" class="form-control" id="nome" placeholder="Nome">
      </th:block>
      <th:block th:unless="${command.nome}">
        <input type="text" th:name="${'nome[' + stat.index + '].conteudo'}" class="form-control" id="nome" placeholder="Nome">
      <th:block>
    </div>

    <div class="form-group">
      <label for="resumo">Resumo</label>
      <input type="hidden" th:name="${'resumo[' + stat.index + '].idioma'}" th:value="${idioma}"/>
      <th:block th:if="${command.resumo}">
        <input type="text" th:name="${'resumo[' + stat.index + '].conteudo'}" th:each="value : ${command.resumo}" th:if="${#strings.equals(value.idioma, idioma)}" th:value="${value.conteudo}" class="form-control" id="resumo" placeholder="Resumo">
      </th:block>
      <th:block th:unless="${command.resumo}">
        <input type="text" th:name="${'resumo[' + stat.index + '].conteudo'}" class="form-control" id="resumo" placeholder="Resumo">
      </th:block>
    </div>

    <div class="form-group">
      <input type="hidden" th:name="${'descricao[' + stat.index + '].idioma'}" th:value="${idioma}"/>
      <th:block th:if="${command.descricao}">
        <textarea class="summernote" id="descricao" th:name="${'descricao[' + stat.index + '].conteudo'}" th:each="value : ${command.descricao}" th:if="${#strings.equals(value.idioma, idioma)}" th:text="${value.conteudo}"></textarea>
      </th:block>
      <th:block th:unless="${command.descricao}">
        <textarea class="summernote" id="descricao" th:name="${'descricao[' + stat.index + '].conteudo'}"></textarea>
      </th:block>
    </div>
  </div>
</div>

<div class="jumbotron">
  <div class="form-group">
    <label for="thumbnails">Thumbnails</label>
    <input th:each="thumb : ${command.thumbnails}" type="hidden" name="icone" th:value="${thumb.id}"/>
    <input type="file" accept=".jpg .jpeg" class="form-control image-uploader" id="thumbnails" multiple="multiple" th:attr="data-url=@{/imagem/upload}">
  </div>

  <div class="form-group">
    <label for="versaoGratuita">Vers&atilde;o Gratuita</label>
    <input th:each="arq : ${command.versaoGratuita}" type="hidden" name="icone" th:value="${arq.id}"/>
    <input type="file" accept=".exe .dmg .rpm .deb" class="form-control file-uploader" id="versaoGratuita" multiple="multiple" th:attr="data-url=@{/arquivo/upload}">
  </div>

  <div class="form-group">
    <label for="versaoGratuita">Vers&atilde;o Paga</label>
    <input th:each="arq : ${command.versaoPaga}" type="hidden" name="icone" th:value="${arq.id}"/>
    <input type="file" accept=".exe .dmg .rpm .deb" class="form-control file-uploader" id="versaoPaga" multiple="multiple" th:attr="data-url=@{/arquivo/upload}">
  </div>
</div>
</th:block>
